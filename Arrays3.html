<!DOCTYPE html>
<html>
<head>
	<title>Some more Arrays.</title>
</head>
<body>
<script type="text/javascript">

// MAP
// It takes one parameter: a function that is called on every element of the array. And it returns a new array.
	
const numbers = [1,2,3,4,5,6,7,8,9,10];

const numbersPlusOne = numbers.map(n => n + 1);
console.log(numbersPlusOne);

const numbersPlusForty = numbers.map(n => n + 1);
console.log(numbersPlusForty);

const numbersPlusTwo = numbers.map(n => n + 2);
console.log(numbersPlusTwo);

const numbersPlusThree = numbers.map(n => n + 3);
console.log(numbersPlusThree);

const numbersTimesFour = numbers.map(n => n * 4);
console.log(numbersTimesFour);

const numbersDividedByTwo = numbers.map(n => n % 2);
console.log(numbersDividedByTwo);

const numbersDividedByThree = numbers.map(n => n % 10);
console.log(numbersDividedByThree);

const numbersTimesTwo = numbers.map(n => n * 2);
console.log(numbersTimesTwo);

const numbersMinusTwo = numbers.map(n => n - 2);
console.log(numbersMinusTwo);

const numbersMinusTen = numbers.map(n => n - 10);
console.log(numbersMinusTen);

const numbersPlusThirtyFive = numbers.map(n => n + 35);
console.log(numbersPlusThirtyFive);

const numbersMinusFive = numbers.map(n => n- 5);
console.log(numbersMinusFive);

const numbersPlusOneHundred = numbers.map(n => n + 100);
console.log(numbersPlusOneHundred);

const numbersMinusTwenty = numbers.map(n => n - 20);
console.log(numbersMinusTwenty);

const numbersPlusFive = numbers.map(n => n +5);
console.log(numbersPlusFive);

const numbersPlusThirty = numbers.map(n => n + 30);
console.log(numbersPlusThirty);

const numbersPlusFour = numbers.map(n => n + 4);
console.log(numbersPlusFour);

const numbersPlusFiftyFive = numbers.map(n => n + 55);
console.log(numbersPlusFiftyFive);

const numbersTimesOne = numbers.map(n => n * 1);
console.log(numbersTimesOne);

const numbersPlusEight = numbers.map(n => n + 8);
console.log(numbersPlusEight);

const numbersMinusThree = numbers.map(n => n - 3);
console.log(numbersMinusThree);

const numbersTimesEight = numbers.map(n => n * 8);
console.log(numbersTimesEight);

const numbersPlusTwenty = numbers.map(n => n + 20);
console.log(numbersPlusTwenty);

const numbersTimesForty = numbers.map (n => n * 40);
console.log(numbersTimesForty);

const numbersDividedByFive = numbers.map(n => n % 5);
console.log(numbersDividedByFive);

const numbersDividedByTen = numbers.map(n => n % 10);
console.log(numbersDividedByTen);

const numbersDividedByZero = numbers.map(n => n % 0);
console.log(numbersDividedByZero);

const numbersDividedByOne = numbers.map(n => n % 1);
console.log(numbersDividedByOne);

const numbersMinusEight = numbers.map(n => n - 8);
console.log(numbersMinusEight);

const numbersPLusEight = numbers.map(n => n + 8);
console.log(numbersPLusEight);

const numbersPlusNine = numbers.map(n => n + 9);
console.log(numbersPlusNine);

const numbersDividedByEight = numbers.map(n => n % 8);
console.log(numbersDividedByEight);

// MAP
// Also create a new array that keeps only one particular property of an object:

const allActivities = [
{ title: 'My Activity',
coordinates: [50.123, 3.291]},
{ title: 'Another Activity', coordinates: [1.238, 4.292]},
];
const allCoordinates = allActivities.map(activity => activity.coordinates);
console.log(allCoordinates);

// FILTER
// Takes a function as its only parameter that is called on every element of the array. This function needs to return a boolean: true if you want to keep the element in the array false if you don’t want to keep it. Then you’ll have a shiny new array with the elements you wanted to keep.

const oddNumbers = numbers.filter(n => n % 2 !== 0);
console.log(oddNumbers); // [1, 3, 5]

const oddNumbersTwo = numbers.filter(n => n % 2 !== 0);
console.log(oddNumbersTwo);

const oddNumbersFive = numbers.filter(n => n % 5 !== 0);
console.log(oddNumbersFive);

const oddNumbersThree = numbers.filter(n => n % 3 !== 0);
console.log(oddNumbersThree);

const oddNumbersFour = numbers.filter(n => n % 4 !==0);
console.log(oddNumbersFour);

const evenNumbers = numbers.filter(n => n % 2 ===0);
console.log(evenNumbers);

const evenNumbersPlusTwo = numbers.filter(n => n % 2 ===0);
console.log(evenNumbersPlusTwo);

const evenNumbersMinusOne = numbers.filter(n => n - 1);
console.log(evenNumbersMinusOne);

const participantsOne = [
	{ id: 'a3f47', username: 'john'},
	{ id: 'fek28', username: 'mary'},
	{ id: 'nej44', username: 'sam'},
];

function removeParticipant(participantsOne, id) {
	return participantsOne.filter(participant => participant.id !== id)
};

console.log(removeParticipant(participantsOne, 'a3f47'));


const sports = ['football', 'archery', 'judo'];
const hasFootball = sports.includes('football');
console.log(hasFootball);

// REDUCE - reduce is about taking an array of values and combine them into one value. It takes two parameters, a callback function which is our reducer and an optional initial value (which is the first item of the array by default). The reducer itself takes four parameters:

// The accumulator: it accumulates the returned values in your reducer.
// The current value of the array
// The current index
// The array reduce was called upon
// Most of the time, you’ll just use the first two parameters: the accumulator and the current value.

const numbers = [37, 12, 28, 4, 9]
const total = numbers.reduce((total, n) => total + n)
console.log(total) 

// Spread operator (ES2015)


const numbers = [1, 2, 3]
const numbersCopy = [...numbers]
console.log(numbersCopy) // [1, 2, 3]

const otherNumbers = [4, 5, 6]
const numbersConcatenated = [...numbers, ...otherNumbers]
console.log(numbersConcatenated) // [1, 2, 3, 4, 5, 6]


const arr = ['foo', 42, { name: 'Thomas' }]
let copy = [...arr]

copy[0] = 'bar'

console.log(arr) // No mutations: ["foo", 42, { name: "Thomas" }]
console.log(copy) // ["bar", 42, { name: "Thomas" }]

copy[2].name = 'Hello'

console.log(arr) // /!\ MUTATION ["foo", 42, { name: "Hello" }]
console.log(copy) // ["bar", 42, { name: "Hello" }]

// includes (ES2015)

const sports = ['football', 'archery', 'judo']
const hasFootball = sports.includes('football')
console.log(hasFootball) // true



// ForEach takes a function as a parameter that takes itself three parameters: the current value, the index and the array.

const numbers = [1, 2, 3, 4, 5]
numbers.forEach(console.log)


// indexOf
// It is used to return the first index at which a given element can be found in the array. indexOf was also widely used to check whether an element is in an array or not. To be honest, I don’t use it that much as of today.
const sports = ['football', 'archery', 'judo']

const judoIndex = sports.indexOf('judo')
console.log(judoIndex) // 2


// find
// The find method is quite similar to the filter method. You have to provide it a function that test each array’s element. However, find stops testing elements as soons as it finds one that passes the test. Not filter. filter will iterate over the whole array no matter what.

const users = [
  { id: 'af35', name: 'john' },
  { id: '6gbe', name: 'mary' },
  { id: '932j', name: 'gary' },
]

const user = users.find(user => user.id === '6gbe')
console.log(user) // { id: '6gbe', name: 'mary' }

// findIndex
// It’s exactly the same as the find method except that it returns the index of the first element found instead of the element directly.

const users = [
  { id: 'af35', name: 'john' },
  { id: '6gbe', name: 'mary' },
  { id: '932j', name: 'gary' },
]

const user = users.findIndex(user => user.id === '6gbe')
console.log(user) // 1

// slice
// Whenever you need to take a portion of an array or copy an array, you can use slice. But be careful, just like the spread operator, slice returns a shallow copy of that portion!

const numbers = [1, 2, 3, 4, 5]
const copy = numbers.slice()

// some - If you want to test that at least one element of an array passes a test, well you can use some. Just like map, filter or find, some takes a callback function as its only parameter. It returns true if at least one element pass the test, false otherwise. You can use some when you are dealing with permissions for example:

const users = [
  {
    id: 'fe34',
    permissions: ['read', 'write'],
  },
  {
    id: 'a198',
    permissions: [],
  },
  {
    id: '18aa',
    permissions: ['delete', 'read', 'write'],
  },
]

const hasDeletePermission = users.some(user =>
  user.permissions.includes('delete')
)
console.log(hasDeletePermission) // true

// every
// Similar to some except that every tests if all elements pass the condition (instead of at least one).

const users = [
  {
    id: 'fe34',
    permissions: ['read', 'write'],
  },
  {
    id: 'a198',
    permissions: [],
  },
  {
    id: '18aa',
    permissions: ['delete', 'read', 'write'],
  },
]

const hasAllReadPermission = users.every(user =>
  user.permissions.includes('read')
)
console.log(hasAllReadPermission) // false




</script>

</body>
</html>