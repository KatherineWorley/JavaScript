<!DOCTYPE html>
<html>
<head>
	<title>Functions</title>
</head>
<body>


	<script type="text/javascript">

// Load a single image by constructing an <img> tag, adding an onload event listener, and setting the img src attribute
function loadImage(src, callback) {
  var img = document.createElement('img');
  img.addEventListener('load', function() { callback(img); } , false);
  img.src = src;
}	

// Start your game loop once the image has completed loading

function run(sprites) {
  // game loop goes here
}

loadImage("images/sprites", run);

// Nested callback
	
loadImage("images/sprites", function(sprites) {
  // game loop goes here
});


// Loading Multiple Images
function loadImages(names, callback) {

  var n,name,
      result = {},
      count  = names.length,
      onload = function() { if (--count == 0) callback(result); };

  for(n = 0 ; n < names.length ; n++) {
    name = names[n];
    result[name] = document.createElement('img');
    result[name].addEventListener('load', onload);
    result[name].src = "images/" + name + ".png";
  }

}




	</script>

</body>
</html>